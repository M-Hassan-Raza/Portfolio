{{- define "main" }}

{{- if .Site.Params.profileMode.enabled }}
<div class="profile">
    {{- partial "index_profile.html" . }}
</div>
{{- end }}

<div class="post-content">
    {{- if .Content }}
        {{ .Content }}
    {{- end }}
</div>

{{- if site.Params.homeInfoParams }}
{{- with site.Params.homeInfoParams }}
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>{{ .Title | markdownify }}</h1>
    </header>
    <div class="entry-content">
        {{ .Content | markdownify }}
    </div>
    <footer class="entry-footer">
        {{ partial "social_icons.html" site.Params.socialIcons }}
    </footer>
</article>
{{- end }}
{{- end }}

{{- $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
{{- if .Site.Params.ShowAllPosts }}
{{- $pages = site.RegularPages }}
{{- end }}

{{- if .Site.Params.ShowLatestPosts }}
{{- partial "posts.html" . }}
{{- end }}

{{- end }}